<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bài tập</title>
</head>
<body>
<script>
    class Animal {
        constructor(name, weight, speed) {
            this.name = name;
            this.weight = weight;
            this.speed = speed;
        }

        //không biết kiêu thế nào => tính trừu tượng
        say() {
            console.log("Tiếng kiêu chưa cụ thể");
        };
    }

    class Rat extends Animal {
        constructor(name, weight, speed, status) {
            super(name, weight, speed);
            this.status = status;
        }

        // thể hiện tính đa hình
        say(text) {
            console.log("Chít Chít: " + text);
        }

    }

    class Cat extends Animal {
        constructor(name, weight, speed) {
            super(name, weight, speed);
        }

        // thể hiện tính đa hình
        say(text) {
            console.log("Meo Meo: " + text)
        }

        eatMouse(mouse) {
            if (mouse.status === true) {
                this.say("Còn sống ăn thôi")
                this.weight += mouse.weight;
            } else {
                this.say("Chết rồi không ăn");
            }
        }

        catchMouse(mouse) {
            if (this.speed > mouse.speed) {
                this.say("Bắt được rồi");
                mouse.say("Chết em rồi");
                this.eatMouse(mouse);
            } else {
                mouse.say("Đố bắt được em");
                this.say("Tha cho mày đó");
            }
        }
    }

    let jerry1 = new Rat("Jerry1", 1, 9, true);
    let jerry2 = new Rat("Jerry2", 1, 9, false);
    let jerry3 = new Rat("Jerry3", 1, 12, true);
    let tom = new Cat("Tom1", 10, 10);
    tom.catchMouse(jerry1);
    tom.catchMouse(jerry2);
    tom.catchMouse(jerry3);
</script>
</body>
</html>